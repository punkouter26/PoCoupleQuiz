@if (IsLoading)
{
    <div class="loading-container">
        @if (ShowSpinner)
        {
            <div class="loading-spinner">
                <div class="spinner-border text-primary" role="status">
                    <span class="visually-hidden">Loading...</span>
                </div>
            </div>
        }
        
        @if (!string.IsNullOrEmpty(Message))
        {
            <div class="loading-message">
                <p>@Message</p>
            </div>
        }
        
        @if (Progress.HasValue)
        {
            <div class="loading-progress">
                <div class="progress">
                    <div class="progress-bar" role="progressbar" 
                         style="width: @(Progress.Value)%" 
                         aria-valuenow="@Progress.Value" 
                         aria-valuemin="0" 
                         aria-valuemax="100">@Progress.Value%</div>
                </div>
            </div>
        }
    </div>
}
else
{
    @ChildContent
}

<style>
    .loading-container {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-height: 200px;
        padding: 2rem;
        text-align: center;
    }
    
    .loading-spinner {
        margin-bottom: 1rem;
    }
    
    .loading-message {
        margin-bottom: 1rem;
        color: #666;
    }
      .loading-message p {
        margin: 0;
        font-size: 1.1rem;
    }
    
    .loading-progress {
        width: 100%;
        max-width: 300px;    }
    
    @@media (max-width: 576px) {
        .loading-container {
            min-height: 150px;
            padding: 1rem;
        }
        
        .loading-message p {
            font-size: 1rem;
        }
    }
</style>

@code {
    [Parameter] public bool IsLoading { get; set; } = true;
    [Parameter] public string? Message { get; set; }
    [Parameter] public double? Progress { get; set; }
    [Parameter] public bool ShowSpinner { get; set; } = true;
    [Parameter] public RenderFragment? ChildContent { get; set; }
}
