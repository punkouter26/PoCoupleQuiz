graph LR
    subgraph "Development Environment"
        Dev[fa:fa-laptop Developer Machine]
        Azurite[fa:fa-database Azurite<br/>Local Storage Emulator]
        UserSecrets[fa:fa-user-secret .NET User Secrets<br/>Local Config]
    end

    subgraph "Azure Infrastructure (Bicep)"
        RG[fa:fa-folder-open Resource Group]
        ASP[fa:fa-server App Service Plan<br/>Shared]
        AppSvc[fa:fa-globe App Service<br/>Web + API]
        KV[fa:fa-key Key Vault<br/>Secrets]
        LA[fa:fa-chart-line Log Analytics<br/>Workspace]
        AppIns[fa:fa-area-chart Application Insights]
        Storage[fa:fa-table Storage Account<br/>Table Storage]
        OpenAIRes[fa:fa-brain Azure OpenAI<br/>Resource]
    end

    subgraph "Deployment Pipeline"
        GitHub[fa:fa-github GitHub Actions<br/>CI/CD]
        AZD[fa:fa-terminal azd up<br/>Deployment]
    end

    Dev -->|Develop & Test| Azurite
    Dev -->|Local Config| UserSecrets
    
    Dev -->|Commit Code| GitHub
    GitHub -->|Deploy via| AZD
    
    AZD -->|Provision| RG
    RG --> ASP
    RG --> AppSvc
    RG --> KV
    RG --> LA
    RG --> AppIns
    RG --> Storage
    RG --> OpenAIRes
    
    AppSvc -->|Managed Identity| KV
    AppSvc -->|Logs & Metrics| AppIns
    AppIns -->|Store Data| LA
    AppSvc -->|Data| Storage
    AppSvc -->|Generate Questions| OpenAIRes

    classDef devClass fill:#61AFEF,stroke:#3B8FD0,color:#fff
    classDef azureClass fill:#E06C75,stroke:#C85360,color:#fff
    classDef deployClass fill:#98C379,stroke:#6FA855,color:#fff

    class Dev,Azurite,UserSecrets devClass
    class RG,ASP,AppSvc,KV,LA,AppIns,Storage,OpenAIRes azureClass
    class GitHub,AZD deployClass
