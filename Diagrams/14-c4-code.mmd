graph TB
    subgraph "C4 Code Diagram - GameService Implementation"
        
        subgraph "GameService Class"
            CreateGame[CreateGame Method<br/>Parameters: players, difficulty<br/>Returns: Game object<br/>Validates player count<br/>initializes game state]
            
            AddPlayer[AddPlayer Method<br/>Parameters: gameId, player<br/>Returns: updated Game<br/>Validates player data<br/>assigns king if first player]
            
            SubmitAnswer[SubmitAnswer Method<br/>Parameters: gameId, playerId, answer<br/>Returns: GameState<br/>Stores answer, checks completion<br/>calculates scores if round complete]
            
            CalculateScores[CalculateScores Method<br/>Parameters: gameQuestion<br/>Returns: score dictionary<br/>Compares answers with king<br/>awards points for matches]
            
            GetGameStatus[GetGameStatus Method<br/>Parameters: gameId<br/>Returns: GameStatus<br/>Returns current game state<br/>scores and progress]
            
            AdvanceRound[AdvanceRound Method<br/>Parameters: gameId<br/>Returns: bool<br/>Moves to next round<br/>rotates king player]
        end
        
        subgraph "Dependencies"
            IGameRepo[IGameRepository Interface<br/>GetGameAsync gameId<br/>SaveGameAsync game<br/>GetGameHistoryAsync playerId]
            
            IQuestionRepo[IQuestionRepository Interface<br/>GetRandomQuestionsAsync count difficulty<br/>GetQuestionsByCategoryAsync category]
            
            ILogger[ILogger Interface<br/>LogInformation message args<br/>LogError exception message<br/>LogWarning message]
            
            ICache[ICacheService Interface<br/>GetAsync T key<br/>SetAsync T key value expiry<br/>RemoveAsync key]
        end
        
        subgraph "Domain Models"
            Game[Game Entity<br/>Properties Players Questions<br/>CurrentRound Difficulty<br/>Methods AddPlayer<br/>GetScoreboard IsGameOver]
            
            Player[Player Entity<br/>Properties Name Score<br/>IsKingPlayer TotalGamesPlayed<br/>Methods UpdateScore<br/>CalculateAccuracy]
            
            GameQuestion[GameQuestion Entity<br/>Properties Question KingAnswer<br/>PlayerAnswers Results<br/>Methods AddAnswer<br/>IsCompleted]
        end
        
    end
    
    CreateGame --> IGameRepo
    CreateGame --> IQuestionRepo
    CreateGame --> ILogger
    CreateGame --> Game
    
    AddPlayer --> IGameRepo
    AddPlayer --> ILogger
    AddPlayer --> Game
    AddPlayer --> Player
    
    SubmitAnswer --> IGameRepo
    SubmitAnswer --> ICache
    SubmitAnswer --> ILogger
    SubmitAnswer --> CalculateScores
    SubmitAnswer --> GameQuestion
    
    CalculateScores --> GameQuestion
    CalculateScores --> Player
    CalculateScores --> ILogger
    
    GetGameStatus --> IGameRepo
    GetGameStatus --> ICache
    
    AdvanceRound --> IGameRepo
    AdvanceRound --> ILogger
    AdvanceRound --> Game
